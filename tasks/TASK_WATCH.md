Perfect! Here's the final design combining the visual flow header with the enhanced compact view:

```
‚îå‚îÄ Para Watch ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üíª IDE Quick Switcher                                      [q]uit [r]efresh   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                               ‚îÇ
‚îÇ      WORKING ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂ AI REVIEW ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂ HUMAN REVIEW                            ‚îÇ
‚îÇ        (4)            (2)              (1)                                    ‚îÇ
‚îÇ                         ‚Üì                                                     ‚îÇ
‚îÇ                    (retry once)                                               ‚îÇ
‚îÇ                                                                               ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                               ‚îÇ
‚îÇ WORKING (4) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ   ‚îÇ
‚îÇ                                                                               ‚îÇ
‚îÇ   [1] auth-flow      üë§ alice     ‚úì    "OAuth2 authentication flow"          ‚îÇ
‚îÇ   [2] payment-api    üë§ bob       ‚úì    "Stripe payment integration"     ‚Üê    ‚îÇ
‚îÇ   [3] email-svc      üë§ charlie   ‚úó    "Email notification service"          ‚îÇ
‚îÇ   [4] search         üë§ dave      ‚úì    "Elasticsearch integration"           ‚îÇ
‚îÇ                                                                               ‚îÇ
‚îÇ AI REVIEW (2) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ   ‚îÇ
‚îÇ                                                                               ‚îÇ
‚îÇ   [5] ui-components  üë§ eve       ‚è±Ô∏è 15m   "React dashboard components"       ‚îÇ
‚îÇ   [6] api-tests      üë§ frank     ‚è±Ô∏è 8m    "API integration test suite"       ‚îÇ
‚îÇ                                                                               ‚îÇ
‚îÇ HUMAN REVIEW (1) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ   ‚îÇ
‚îÇ                                                                               ‚îÇ
‚îÇ   [7] backend-api                 üìù      "REST API implementation"          ‚îÇ
‚îÇ                                                                               ‚îÇ
‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ    ‚îÇ
‚îÇ Today: ‚úÖ 12 Merged (avg: 12m AI review) | ‚ùå 3 Cancelled | üîÑ 7 Active       ‚îÇ
‚îÇ                                                                               ‚îÇ
‚îÇ Press [1-7] to open IDE | ‚úì = IDE open | ‚è±Ô∏è = Time in AI review              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## Focused Session View (Tab to expand)

```
‚îå‚îÄ Para Watch - Session Details ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ [Esc] Back                                         Session: ui-components     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                               ‚îÇ
‚îÇ Task: Create responsive React components for user dashboard                   ‚îÇ
‚îÇ Agent: eve                                                                    ‚îÇ
‚îÇ Branch: para/ui-components-20240115                                           ‚îÇ
‚îÇ Current State: AI REVIEW (Attempt 1/2)                                        ‚îÇ
‚îÇ                                                                               ‚îÇ
‚îÇ Timeline:                                                                     ‚îÇ
‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ    ‚îÇ
‚îÇ 10:15 AM  Started working                                                    ‚îÇ
‚îÇ 11:45 AM  Submitted for AI review                                           ‚îÇ
‚îÇ 11:48 AM  AI Review started                                                 ‚îÇ
‚îÇ           Currently reviewing... (15 minutes elapsed)                         ‚îÇ
‚îÇ                                                                               ‚îÇ
‚îÇ AI Review Checklist:                                                         ‚îÇ
‚îÇ ‚Ä¢ Code quality and best practices                                            ‚îÇ
‚îÇ ‚Ä¢ Test coverage analysis                                                     ‚îÇ
‚îÇ ‚Ä¢ Component documentation                                                    ‚îÇ
‚îÇ ‚Ä¢ Accessibility compliance                                                   ‚îÇ
‚îÇ                                                                               ‚îÇ
‚îÇ [Enter] Open IDE  [l] View logs  [g] Git status                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## Key Features of Final Design:

1. **Visual Flow Header**: Shows the state progression clearly
2. **Compact Task List**: Maintained the efficient layout
3. **No Human Reviewer**: Human review tasks don't show agent names
4. **AI Review Time Only**: Only tracks time during AI review phase
5. **Clean Statistics**: Shows average AI review time, not total development time
6. **Numbered Shortcuts**: Quick IDE access remains the primary action

## Implementation Notes:

```rust
// Display logic for tasks
impl SessionInfo {
    pub fn display_line(&self, index: usize) -> String {
        let ide_indicator = if self.ide_open { "‚úì" } else { "‚úó" };
        
        match &self.state {
            SessionState::Working => {
                format!("[{}] {:<12} üë§ {:<8} {}    \"{}\"",
                    index + 1,
                    self.task_name,
                    self.agent_name,
                    ide_indicator,
                    truncate(&self.description, 40)
                )
            }
            SessionState::AIReview { .. } => {
                let time = self.time_tracking.current_ai_review_duration()
                    .map(|d| format!("‚è±Ô∏è {}m", d.num_minutes()))
                    .unwrap_or_else(|| "‚è±Ô∏è <1m".to_string());
                    
                format!("[{}] {:<12} üë§ {:<8} {:<8} \"{}\"",
                    index + 1,
                    self.task_name,
                    self.agent_name,
                    time,
                    truncate(&self.description, 40)
                )
            }
            SessionState::HumanReview => {
                // No agent name for human review
                format!("[{}] {:<12}              üìù      \"{}\"",
                    index + 1,
                    self.task_name,
                    truncate(&self.description, 40)
                )
            }
            _ => String::new()
        }
    }
}
```


# Task: Implement Para Watch UI Prototype

Create a terminal UI for monitoring Para development sessions using Ratatui.

## Requirements

1. **Main View** - Display active Para sessions grouped by state:
   - WORKING - Sessions with agents actively developing
   - AI REVIEW - Sessions being reviewed by AI
   - HUMAN REVIEW - Sessions awaiting human review
   
2. **Visual Flow Header** - Show state progression at the top:
   ```
   WORKING ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂ AI REVIEW ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂ HUMAN REVIEW
     (4)            (2)              (1)
   ```

3. **Task List** - For each state section, show:
   - Number shortcut [1-9] for quick access
   - Task name
   - Agent name (except for HUMAN REVIEW)
   - IDE status indicator (‚úì or ‚úó)
   - Time in AI review (format: ‚è±Ô∏è 15m)
   - Task description (truncated to 40 chars)

4. **Statistics Bar** - At the bottom show:
   - Tasks merged today
   - Tasks cancelled today
   - Active task count
   - Average AI review time

5. **Keyboard Navigation**:
   - Number keys (1-9): Print "Opening IDE for task: [task_name]"
   - 'q': Quit application
   - 'r': Refresh (just print "Refreshing..." for now)
   - Arrow keys: Highlight different tasks

## Implementation

Use Ratatui with crossterm backend. Create a simple TUI application with:
- Mock data for 7-10 tasks in different states
- Clean layout using Ratatui's Layout and Block widgets
- Colored state headers
- Smooth keyboard interaction

## Mock Data Structure

```rust
struct SessionInfo {
    task_name: String,
    agent_name: String,
    description: String,
    state: SessionState,
    ide_open: bool,
    ai_review_minutes: Option<u16>, // Only for AI REVIEW state
}

enum SessionState {
    Working,
    AIReview,
    HumanReview,
}
```

## Deliverables

1. Single `watch.rs` file that compiles and runs
2. Clean, readable UI matching the design
3. All keyboard shortcuts working (even if they just print actions)
4. Use colors: Blue for WORKING, Yellow for AI REVIEW, Magenta for HUMAN REVIEW

## Example Output

The UI should look like the provided design mockup. Focus on making it visually clean and easy to navigate. Don't worry about actual Para integration - just make the UI work with mock data.

Keep it simple - no complex state management or external dependencies beyond Ratatui and crossterm.

When complete, run: para integrate "Add para watch UI prototype"



