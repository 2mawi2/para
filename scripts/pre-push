#!/usr/bin/env bash
# Pre-push hook: run linting
set -e
echo "Running pre-push linting..."
if command -v just &> /dev/null; then
    just lint
elif command -v shellcheck &> /dev/null; then
    echo "Running shellcheck..."
    shellcheck -e SC1091,SC2086 pursor.sh install-pursor.sh lib/*.sh || exit 1
    if command -v shfmt &> /dev/null; then
        echo "Running shfmt check..."
        shfmt -d -i 2 pursor.sh install-pursor.sh lib/*.sh || exit 1
    fi
else
    echo "Warning: Cannot run linting - shellcheck not available"
fi 